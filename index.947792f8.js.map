{"mappings":"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","sources":["src/ts/shoppingcart.ts","src/ts/startpage.ts"],"sourcesContent":["import { CartItem } from \"./models/CartItem\";\r\n\r\nexport function openCart() {\r\n  let startButton = document.getElementById(\"openCart\") as HTMLButtonElement;\r\n  startButton.addEventListener(\"click\", () => {\r\n    let openSidebar = document.getElementById(\"mySidebar\") as HTMLDivElement;\r\n    openSidebar.style.width = \"250px\";\r\n  });\r\n}\r\nexport function shoppingCartHtml(cartItems: CartItem[]) {\r\n  let cartTag = document.getElementById(\r\n    \"shoppingcart-container\"\r\n  ) as HTMLDivElement;\r\n  cartTag.innerHTML = \"\";\r\n  let totalAmountTag = document.createElement(\"p\");\r\n  totalAmountTag.className = \"totalamount\";\r\n\r\n  let sum: number = 0;\r\n  let itemsInCartTotal: number = 0;\r\n  for (let i = 0; i < cartItems.length; i++) {\r\n    sum = sum + cartItems[i].amount * cartItems[i].product.price;\r\n\r\n    itemsInCartTotal = itemsInCartTotal + cartItems[i].amount;\r\n\r\n    let containerTag = document.createElement(\"div\");\r\n    let titleTag = document.createElement(\"h3\");\r\n    let imgTag = document.createElement(\"img\");\r\n    let changeContainer = document.createElement(\"div\");\r\n    let amountTag = document.createElement(\"p\");\r\n    let increaseBtn = document.createElement(\"i\");\r\n    let reduceBtn = document.createElement(\"i\");\r\n    let priceTag = document.createElement(\"p\");\r\n    let deleteBtn = document.createElement(\"button\");\r\n\r\n    titleTag.innerText = cartItems[i].product.name;\r\n\r\n    imgTag.src = cartItems[i].product.img;\r\n    imgTag.alt = cartItems[i].product.name;\r\n\r\n    deleteBtn.innerHTML = \"ta bort\";\r\n    containerTag.className = \"shoppingcart__item\";\r\n    changeContainer.className = \"shoppingcart__item__changecontainer\";\r\n    amountTag.innerHTML = cartItems[i].amount.toString();\r\n    increaseBtn.classList.add(\"bi\", \"bi-plus-square\");\r\n    reduceBtn.classList.add(\"bi\", \"bi-dash-square\");\r\n\r\n    increaseBtn.addEventListener(\"click\", () => {\r\n      addMoreToCart(cartItems[i], cartItems);\r\n    });\r\n\r\n    reduceBtn.addEventListener(\"click\", () => {\r\n      reduceCart(cartItems[i], cartItems);\r\n    });\r\n\r\n    deleteBtn.classList.add(\"buttons\");\r\n    deleteBtn.addEventListener(\"click\", () => {\r\n      removeFromCart(cartItems[i], cartItems);\r\n    });\r\n    priceTag.innerHTML =\r\n      (cartItems[i].amount * cartItems[i].product.price).toString() + \" sek\";\r\n\r\n    changeContainer.appendChild(reduceBtn);\r\n    changeContainer.appendChild(amountTag);\r\n    changeContainer.appendChild(increaseBtn);\r\n\r\n    containerTag.appendChild(titleTag);\r\n    containerTag.appendChild(imgTag);\r\n    containerTag.appendChild(changeContainer);\r\n    containerTag.appendChild(priceTag);\r\n    containerTag.appendChild(deleteBtn);\r\n\r\n    cartTag.appendChild(containerTag);\r\n  }\r\n\r\n  totalAmountTag.innerHTML = \"Totalt: \" + sum.toString() + \" sek\";\r\n  cartTag.appendChild(totalAmountTag);\r\n  console.log(itemsInCartTotal);\r\n  let iconTotal = document.getElementById(\"cart-total\") as HTMLElement;\r\n  if (itemsInCartTotal > 0) {\r\n    iconTotal.innerHTML = itemsInCartTotal.toString();\r\n    iconTotal.classList.remove(\"displaynone\");\r\n  }\r\n  if (itemsInCartTotal < 1) {\r\n    iconTotal.classList.add(\"displaynone\");\r\n  }\r\n}\r\nfunction addMoreToCart(item: CartItem, cartItems: CartItem[]) {\r\n  item.amount++;\r\n\r\n  shoppingCartHtml(cartItems);\r\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\r\n}\r\n\r\nfunction reduceCart(item: CartItem, cartItems: CartItem[]) {\r\n  item.amount--;\r\n  if (item.amount < 1) {\r\n    let listindex = cartItems.indexOf(item);\r\n    cartItems.splice(listindex, 1);\r\n  }\r\n  shoppingCartHtml(cartItems);\r\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\r\n}\r\n\r\nfunction removeFromCart(item: CartItem, cartItems: CartItem[]) {\r\n  item.amount === 0;\r\n  let listIndex = cartItems.indexOf(item);\r\n  cartItems.splice(listIndex, 1);\r\n\r\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\r\n\r\n  shoppingCartHtml(cartItems);\r\n}\r\nexport function closeCart() {\r\n  let closeButton = document.getElementById(\"closeCart\") as HTMLButtonElement;\r\n  closeButton.addEventListener(\"click\", () => {\r\n    let closeSidebar = document.getElementById(\"mySidebar\") as HTMLDivElement;\r\n    closeSidebar.style.width = \"0\";\r\n  });\r\n}\r\nexport function checkout() {\r\n  let checkoutButton = document.getElementById(\r\n    \"button-checkout\"\r\n  ) as HTMLButtonElement;\r\n  checkoutButton.addEventListener(\"click\", () => {\r\n    location.href = \"/HolidayTree/pages/checkout.html\";\r\n  });\r\n}\r\n","import { CartItem } from \"./models/CartItem\";\r\n\r\nimport {\r\n  checkout,\r\n  closeCart,\r\n  openCart,\r\n  shoppingCartHtml,\r\n} from \"./shoppingcart\";\r\n\r\nfunction init() {\r\n  let startButton = document.getElementById(\r\n    \"button-product\"\r\n  ) as HTMLButtonElement;\r\n  startButton.addEventListener(\"click\", () => {\r\n    location.href = \"./pages/products.html\";\r\n  });\r\n  openCart();\r\n  closeCart();\r\n  checkout();\r\n  let chosenProducts: CartItem[] = JSON.parse(\r\n    localStorage.getItem(\"cartItems\") || \"[]\"\r\n  );\r\n  shoppingCartHtml(chosenProducts);\r\n}\r\n\r\ninit();\r\n\r\nconsole.log(\"start\");\r\n"],"names":["$0d2da881b7e7f49f$export$d2bcea9edcc37eb0","cartItems","cartTag","document","getElementById","innerHTML","totalAmountTag","createElement","className","sum","itemsInCartTotal","i","length","amount","product","price","containerTag","titleTag","imgTag","changeContainer","amountTag","increaseBtn","reduceBtn","priceTag","deleteBtn","innerText","name","src","img","alt","toString","classList","add","addEventListener","$0d2da881b7e7f49f$var$addMoreToCart","$0d2da881b7e7f49f$var$reduceCart","$0d2da881b7e7f49f$var$removeFromCart","appendChild","console","log","iconTotal","remove","item","localStorage","setItem","JSON","stringify","listindex","indexOf","splice","listIndex","location","href","style","width","parse","getItem"],"version":3,"file":"index.947792f8.js.map"}