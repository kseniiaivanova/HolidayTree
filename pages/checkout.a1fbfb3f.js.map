{"mappings":"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","sources":["src/ts/checkout.ts"],"sourcesContent":["import { CartItem } from \"./models/CartItem\";\r\nimport { Product } from \"./models/Product\";\r\n\r\nfunction init() {\r\n  getListFromLS();\r\n  console.log(\"start\");\r\n  choosePayment();\r\n}\r\n\r\nfunction addToCart(item: CartItem, cartItems: CartItem[]) {\r\n  item.amount++;\r\n\r\n  shoppingCartHtml(cartItems);\r\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\r\n}\r\n\r\nfunction reduceCart(item: CartItem, cartItems: CartItem[]) {\r\n  item.amount--;\r\n  if (item.amount < 1) {\r\n    let listindex = cartItems.indexOf(item);\r\n    cartItems.splice(listindex, 1);\r\n  }\r\n\r\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\r\n  getListFromLS();\r\n}\r\n\r\nfunction removeFromCart(item: CartItem, cartItems: CartItem[]) {\r\n  let listindex = cartItems.indexOf(item);\r\n  cartItems.splice(listindex, 1);\r\n\r\n  localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\r\n\r\n  getListFromLS();\r\n}\r\n\r\nfunction getListFromLS() {\r\n  let cartItems: CartItem[] = JSON.parse(\r\n    localStorage.getItem(\"cartItems\") || \"[]\"\r\n  );\r\n  if (cartItems.length < 1) {\r\n    let cartTag = document.getElementById(\"cart-container\") as HTMLDivElement;\r\n    cartTag.innerHTML = \"Din varukorg är tom\";\r\n    let aTag = document.createElement(\"a\");\r\n\r\n    aTag.href = \"products.html\";\r\n\r\n    aTag.innerHTML = \" Tillbaka till produkter\";\r\n    cartTag.appendChild(aTag);\r\n  } else {\r\n    shoppingCartHtml(cartItems);\r\n  }\r\n}\r\nfunction shoppingCartHtml(cartItems: CartItem[]) {\r\n  console.log(\"hello world\");\r\n  // elements for the hole cart\r\n\r\n  let cartTag = document.getElementById(\"cart-container\") as HTMLDivElement;\r\n  cartTag.innerHTML = \"\";\r\n  let totalAmountTag = document.createElement(\"p\");\r\n  totalAmountTag.className = \"totalamount\";\r\n\r\n  // a variable to be able to count\r\n\r\n  let sum: number = 0;\r\n  for (let i = 0; i < cartItems.length; i++) {\r\n    sum = sum + cartItems[i].amount * cartItems[i].product.price;\r\n\r\n    //create new element for each\r\n\r\n    let containerTag = document.createElement(\"div\");\r\n    let titleTag = document.createElement(\"h3\");\r\n    let imgTag = document.createElement(\"img\");\r\n    let changeContainer = document.createElement(\"div\");\r\n    let amountTag = document.createElement(\"p\");\r\n    let increaseBtn = document.createElement(\"i\");\r\n    let reduceBtn = document.createElement(\"i\");\r\n    let priceTag = document.createElement(\"p\");\r\n    let deleteBtn = document.createElement(\"button\");\r\n\r\n    // innerhtml content\r\n\r\n    titleTag.innerText = cartItems[i].product.name;\r\n\r\n    imgTag.src = cartItems[i].product.img;\r\n    imgTag.alt = cartItems[i].product.name;\r\n\r\n    deleteBtn.innerHTML = \"ta bort\";\r\n    containerTag.className = \"cart__item\";\r\n    changeContainer.className = \"cart__item__changecontainer\";\r\n    amountTag.innerHTML = cartItems[i].amount.toString();\r\n    increaseBtn.classList.add(\"bi\", \"bi-plus-square\");\r\n    reduceBtn.classList.add(\"bi\", \"bi-dash-square\");\r\n\r\n    increaseBtn.addEventListener(\"click\", () => {\r\n      addToCart(cartItems[i], cartItems);\r\n    });\r\n\r\n    reduceBtn.addEventListener(\"click\", () => {\r\n      reduceCart(cartItems[i], cartItems);\r\n    });\r\n\r\n    deleteBtn.classList.add(\"buttons\");\r\n    deleteBtn.addEventListener(\"click\", () => {\r\n      removeFromCart(cartItems[i], cartItems);\r\n    });\r\n    priceTag.innerHTML =\r\n      (cartItems[i].amount * cartItems[i].product.price).toString() + \" sek\";\r\n\r\n    //to display\r\n\r\n    changeContainer.appendChild(reduceBtn);\r\n    changeContainer.appendChild(amountTag);\r\n    changeContainer.appendChild(increaseBtn);\r\n\r\n    containerTag.appendChild(titleTag);\r\n    containerTag.appendChild(imgTag);\r\n    containerTag.appendChild(changeContainer);\r\n    containerTag.appendChild(priceTag);\r\n    containerTag.appendChild(deleteBtn);\r\n\r\n    cartTag.appendChild(containerTag);\r\n  }\r\n  //to display total price\r\n  totalAmountTag.innerHTML = \"Totalt: \" + sum.toString() + \" sek\";\r\n  cartTag.appendChild(totalAmountTag);\r\n}\r\n\r\nfunction chooseCard() {\r\n  let cardForm = document.createElement(\"form\") as HTMLFormElement;\r\n  let billCont: HTMLDivElement = document.getElementById(\r\n    \"bill\"\r\n  ) as HTMLDivElement;\r\n  billCont.innerHTML = \" \";\r\n\r\n  cardForm.innerHTML = \"\";\r\n  cardForm.classList.add(\"forms\");\r\n  let nameCard = document.createElement(\"input\") as HTMLInputElement;\r\n\r\n  nameCard.setAttribute(\"type\", \"text\");\r\n  nameCard.setAttribute(\"minlength\", \"4\");\r\n\r\n  nameCard.setAttribute(\"required\", \"true\");\r\n  nameCard.setAttribute(\"name\", \"FullName\");\r\n  nameCard.setAttribute(\"placeholder\", \"Förnamn och Efternamn\");\r\n\r\n  let numberCard = document.createElement(\"input\") as HTMLInputElement;\r\n\r\n  numberCard.setAttribute(\"type\", \"tel\");\r\n  numberCard.setAttribute(\"pattern\", \"[0-9]{16}\");\r\n  numberCard.setAttribute(\"title\", \"ange 16 siffror!\");\r\n  numberCard.setAttribute(\"required\", \"true\");\r\n  numberCard.setAttribute(\"name\", \"CardNum\");\r\n  numberCard.setAttribute(\"placeholder\", \"Kortnummer\");\r\n\r\n  let dateCard = document.createElement(\"input\") as HTMLInputElement;\r\n\r\n  dateCard.setAttribute(\"type\", \"text\");\r\n  dateCard.setAttribute(\"minlength\", \"5\");\r\n  dateCard.setAttribute(\"maxlength\", \"5\");\r\n  dateCard.setAttribute(\"required\", \"true\");\r\n  dateCard.setAttribute(\"name\", \"CardDate\");\r\n  dateCard.setAttribute(\"placeholder\", \"MM/ÅÅ\");\r\n\r\n  let cvcCard = document.createElement(\"input\") as HTMLInputElement;\r\n  cvcCard.setAttribute(\"placeholder\", \"CVC\");\r\n\r\n  cvcCard.setAttribute(\"type\", \"tel\");\r\n  cvcCard.setAttribute(\"pattern\", \"[0-9]{3}\");\r\n  cvcCard.setAttribute(\"title\", \"ange 3 siffror!\");\r\n  cvcCard.setAttribute(\"required\", \"true\");\r\n  cvcCard.setAttribute(\"name\", \"CardCvc\");\r\n\r\n  let submit = document.createElement(\"input\") as HTMLInputElement;\r\n  submit.setAttribute(\"type\", \"submit\");\r\n  submit.setAttribute(\"value\", \"Slutför köp\");\r\n  submit.classList.add(\"submit-button\");\r\n  nameCard.classList.add(\"inputs\");\r\n  numberCard.classList.add(\"inputs\");\r\n  dateCard.classList.add(\"inputs\");\r\n  cvcCard.classList.add(\"inputs\");\r\n\r\n  let cardCont: HTMLDivElement = document.getElementById(\r\n    \"cardCont\"\r\n  ) as HTMLDivElement;\r\n  cardCont.appendChild(cardForm);\r\n\r\n  cardForm.appendChild(nameCard);\r\n\r\n  cardForm.appendChild(numberCard);\r\n\r\n  cardForm.appendChild(dateCard);\r\n\r\n  cardForm.appendChild(cvcCard);\r\n  cardForm.appendChild(submit);\r\n\r\n  cardForm.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n    doneHtml();\r\n    console.log(\"tack för ditt köp\");\r\n  });\r\n}\r\n\r\nfunction choosePayment() {\r\n  let radioOne: HTMLButtonElement = document.getElementById(\r\n    \"card\"\r\n  ) as HTMLButtonElement;\r\n  radioOne.addEventListener(\"change\", () => {\r\n    chooseCard();\r\n  });\r\n  let bill = document.getElementById(\"faktura\") as HTMLInputElement;\r\n  bill.addEventListener(\"change\", () => {\r\n    billForm();\r\n\r\n    console.log(\"du klickade\");\r\n  });\r\n}\r\n\r\nfunction billForm() {\r\n  let cardForm: HTMLFormElement = document.getElementById(\r\n    \"cardCont\"\r\n  ) as HTMLFormElement;\r\n  cardForm.innerHTML = \"\";\r\n  let billCont: HTMLDivElement = document.getElementById(\r\n    \"bill\"\r\n  ) as HTMLDivElement;\r\n  billCont.innerHTML = \"\";\r\n  let form = document.createElement(\"form\") as HTMLFormElement;\r\n  let inputName = document.createElement(\"input\") as HTMLInputElement;\r\n\r\n  inputName.setAttribute(\"type\", \"text\");\r\n  inputName.setAttribute(\"required\", \"true\");\r\n  inputName.setAttribute(\"name\", \"FullName\");\r\n  inputName.setAttribute(\"placeholder\", \"Förnamn och Efternamn\");\r\n  //pcode number\r\n  let pCode = document.createElement(\"input\") as HTMLInputElement;\r\n\r\n  pCode.setAttribute(\"type\", \"tel\");\r\n  pCode.setAttribute(\"required\", \"true\");\r\n  pCode.setAttribute(\"title\", \"ange 10 siffror!\");\r\n  pCode.setAttribute(\"number\", \"Personnummer\");\r\n  pCode.setAttribute(\"placeholder\", \"Personnummer\");\r\n  pCode.setAttribute(\"pattern\", \"[0-9]{10}\");\r\n  //email\r\n  let email = document.createElement(\"input\") as HTMLInputElement;\r\n\r\n  email.setAttribute(\"type\", \"email\");\r\n  email.setAttribute(\"required\", \"true\");\r\n  email.setAttribute(\"text\", \"\");\r\n  email.setAttribute(\"placeholder\", \"Email Adress\");\r\n  //submit button\r\n  let submit = document.createElement(\"input\") as HTMLInputElement;\r\n  submit.setAttribute(\"type\", \"submit\");\r\n  submit.setAttribute(\"value\", \"Slutför köp\");\r\n  //styling\r\n  form.classList.add(\"forms\");\r\n  inputName.classList.add(\"inputs\");\r\n  pCode.classList.add(\"inputs\");\r\n  email.classList.add(\"inputs\");\r\n  submit.classList.add(\"submit-button\");\r\n  //create HTML\r\n  form.appendChild(inputName);\r\n  form.appendChild(pCode);\r\n  form.appendChild(email);\r\n  form.appendChild(submit);\r\n  billCont.appendChild(form);\r\n\r\n  form.addEventListener(\"submit\", (e) => {\r\n    e.preventDefault();\r\n\r\n    doneHtml();\r\n    console.log(\"tack för ditt köp\");\r\n  });\r\n}\r\n\r\nfunction doneHtml() {\r\n  let main = document.getElementById(\"main\") as HTMLDivElement;\r\n  main.innerHTML = \"\";\r\n  let hTag = document.createElement(\"h3\") as HTMLHeadingElement;\r\n  hTag.innerText = \"Tack för ditt köp!\";\r\n  localStorage.clear();\r\n  main.appendChild(hTag);\r\n}\r\n\r\ninit();\r\n"],"names":["$f3149a833b7ae1e6$var$addToCart","item","cartItems","amount","$f3149a833b7ae1e6$var$shoppingCartHtml","localStorage","setItem","JSON","stringify","$f3149a833b7ae1e6$var$reduceCart","listindex","indexOf","splice","$f3149a833b7ae1e6$var$getListFromLS","$f3149a833b7ae1e6$var$removeFromCart","parse","getItem","length","cartTag","document","getElementById","innerHTML","aTag","createElement","href","appendChild","console","log","totalAmountTag","className","sum","i","product","price","containerTag","titleTag","imgTag","changeContainer","amountTag","increaseBtn","reduceBtn","priceTag","deleteBtn","innerText","name","src","img","alt","toString","classList","add","addEventListener","$f3149a833b7ae1e6$var$doneHtml","main","hTag","clear","cardForm","nameCard","setAttribute","numberCard","dateCard","cvcCard","submit","e","preventDefault","$f3149a833b7ae1e6$var$chooseCard","billCont","form","inputName","pCode","email","$f3149a833b7ae1e6$var$billForm"],"version":3,"file":"checkout.a1fbfb3f.js.map"}